{"version":3,"sources":["webpack:///src/app/modules/provisioning/provisioning.module.ts","webpack:///src/app/modules/provisioning/provisioning/provisioning.component.html","webpack:///src/app/modules/provisioning/provisioning/provisioning.component.ts","webpack:///src/app/shared/data/static.data.ts"],"names":["routes","path","component","ProvisioningModule","forChild","declarations","imports","ProvisioningComponent","api","fb","localdata","isStaticData","staticData","firstLeveldata","jobDuties","channels","businessRoles","teams","applications","applicationAttributes","attributeOptions","selectedApplications","selectedRoles","commonAttributesForms","FunctionalGroup","Centers","ChannelsID","ChannelsCD","testForm","group","business_role_id","channel_id","required","job_duty_id","team_id","buildForms","get","console","log","resetData","loadFirstLevelData","getApplications","id","format","replace","toLowerCase","options","applicationForm","application","levelOneForm","levelTwoForm","roleField","value","length","selectedRole","filter","x","toString","push","reset","invalid","appId","attributes","Date","getTime","defaultValues","arrayFormGroup","app_id","center_cd","channel_cd","function_group_id","patchValue","centerCD","channelCD","channelId","functionGroupId","applicationsFormArray","attributeName","attrNameNoSpace","Promise","res","rej","defaultAppConfigs","levelOneData","applicationId","businessRoleId","jobDutyId","teamId","list","toPromise","defaults","attributesWithOptions","attr","getAttributeOptions","category","getListOf","then","entity","limit","offset","subscribe","alert","levelOne","levelTwo","data","create","addRole","addApplication","save","selector","templateUrl","styleUrls","STATIC_DATA","name","label"],"mappings":"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","file":"modules-provisioning-provisioning-module-es5.js","sourcesContent":["import { ProvisioningComponent } from './provisioning/provisioning.component';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule, Routes } from '@angular/router';\nimport { SharedModule } from '../../shared/shared.module';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProvisioningComponent\n  }\n];\n@NgModule({\n  declarations: [\n    ProvisioningComponent\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    SharedModule,\n    RouterModule.forChild(routes)\n  ]\n})\nexport class ProvisioningModule { }\n","<form class=\"levelOne\" [formGroup]=\"levelOneForm\">\r\n        <div>\r\n            <div class=\"form-group\">\r\n                <label>Organization</label>\r\n                <select class=\"form-control form-control-sm\" formControlName=\"job_duty_id\">\r\n                    <option></option>\r\n                    <option [value]=\"jobDuty.id\" *ngFor=\"let jobDuty of firstLeveldata.jobDuties\">{{jobDuty.name}}</option>\r\n                </select>\r\n            </div>\r\n            <!-- <div class=\"form-group\">\r\n                <label>Application Role</label>\r\n                <select class=\"form-control form-control-sm\" formControlName=\"business_role_id\">\r\n                        <option></option>\r\n                        <option [value]=\"br.id\" *ngFor=\"let br of firstLeveldata.businessRoles\">{{br.name}}</option>\r\n                </select>\r\n            </div> -->\r\n            <div class=\"form-group\">\r\n                <label>Channel</label>\r\n                <select class=\"form-control form-control-sm\" formControlName=\"channel_id\">\r\n                        <option></option>\r\n                        <option [value]=\"ch.id\" *ngFor=\"let ch of firstLeveldata.channels\">{{ch.name}}</option>\r\n                </select>\r\n            </div>\r\n            <div class=\"form-group\">\r\n                <label>Team</label>\r\n                <select class=\"form-control form-control-sm\" formControlName=\"team_id\">\r\n                        <option></option>\r\n                        <option [value]=\"ch.id\" *ngFor=\"let ch of firstLeveldata.teams\">{{ch.name}}</option>\r\n                </select>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"applicationRole\">\r\n            <div class=\"form-group\">\r\n                <label>Business Job Role</label>\r\n                <div>\r\n                    <select class=\"form-control form-control-sm\" formControlName=\"business_role_id\">\r\n                            <option></option>\r\n                            <ng-container *ngFor=\"let br of firstLeveldata.businessRoles\">\r\n                                <option [value]=\"br.id\" *ngIf=\"!isRoleAlreadySelected(br.id)\">{{br.name}}</option>\r\n                            </ng-container>                            \r\n                    </select>\r\n                    <button class=\"btn btn-success btn-sm\" (click)=\"addRole()\">Add</button>\r\n                </div>\r\n            </div>\r\n            <ul>\r\n                <li *ngFor=\"let role of selectedRoles\">\r\n                    {{role.name}}\r\n                    <a (click)=\"removeRole(role.id)\">remove</a>\r\n                </li> \r\n            </ul>\r\n        </div>\r\n</form>\r\n\r\n<form [formGroup]=\"applicationForm\" class=\"application\">\r\n    <div class=\"form-group\">\r\n        <label>Application</label>\r\n        <select class=\"form-control form-control-sm\" formControlName=\"application\">\r\n            <option></option>\r\n            <ng-container *ngFor=\"let app of applications\">\r\n                <!-- *ngIf=\"!isAppAlreadySelected(app.systemId)\" -->\r\n                <option [value]=\"app.systemId\" >{{app.systemId}}</option>\r\n            </ng-container>\r\n            \r\n        </select>\r\n        <button class=\"btn btn-primary btn-sm\" (click)=\"addApplication()\">Add Application</button>\r\n    </div>\r\n</form>\r\n\r\n<div [formGroup]=\"levelTwoForm\" class=\"level-two\" >\r\n    <!-- <div formArrayName=\"applications\">\r\n        <div class=\"card\" *ngFor=\"let app of selectedApplications; let i=index\" [formGroupName]=\"i\">\r\n            <input type=\"hidden\" formControlName=\"app_id\"> \r\n            \r\n            <div class=\"card-header\">\r\n                {{app.name}}\r\n                <button type=\"button\" class=\"btn btn-link\" (click)=\"removeApplication(app.id, i)\">remove</button>\r\n            </div>\r\n            <div class=\"card-body\">\r\n                    <div class=\"form-group\" *ngFor=\"let attr of app.attributes\">\r\n                        <label> {{attr.categoryValue}}</label> \r\n                        <select class=\"form-control form-control-sm\" [formControlName]=\"getAttributeFormName(attr.categoryValue)\">\r\n                            <option></option>\r\n                            <option [value]=\"option.categoryId\" *ngFor=\"let option of attr.options\">\r\n                                {{option.categoryValue}}\r\n                            </option>\r\n                        </select>                        \r\n                    </div>\r\n            </div>\r\n\r\n        </div>\r\n    </div> -->\r\n    <div>\r\n        <div class=\"card\" *ngFor=\"let app of selectedApplications; let i=index\">\r\n            <div class=\"card-header\">\r\n                {{app.appId}}\r\n\r\n                <button type=\"button\" class=\"btn btn-link\" (click)=\"removeApplication(app.id)\">remove</button>\r\n            </div>\r\n            <div class=\"card-body\">\r\n                <div class=\"form-group\" *ngFor=\"let attr of app.attributes\">\r\n                    <label> {{attr.translations | itranslate}}</label> \r\n\r\n                    <select class=\"form-control form-control-sm\" *ngIf=\"getOptions(attr.attbId).length > 0;else inputField\">\r\n                        <option></option>\r\n                        <option \r\n                            [selected]=\"option.default\"\r\n                            [value]=\"option.value\" *ngFor=\"let option of getOptions(attr.attbId)\">\r\n                            {{option.translations | itranslate}}\r\n                        </option>\r\n                    </select>\r\n                    <ng-template #inputField>\r\n                        <input type=\"text\" class=\"form-control form-control-sm\" >\r\n                    </ng-template>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"submit\">\r\n    <button class=\"btn btn-primary\" (click)=\"save()\">Save</button>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { environment } from 'src/environments/environment';\r\nimport { ApiService } from '../../../shared/services/api.service';\r\nimport { STATIC_DATA } from '../../../shared/data/static.data';\r\nimport { FormArray, FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { LocalDataService } from 'src/app/shared/services/local-data.service';\r\n\r\n@Component({\r\n  selector: 'app-provisioning',\r\n  templateUrl: './provisioning.component.html',\r\n  styleUrls: ['./provisioning.component.scss']\r\n})\r\nexport class ProvisioningComponent implements OnInit {\r\n\r\n  private isStaticData = environment.staticData;\r\n\r\n  firstLeveldata = {\r\n    jobDuties: STATIC_DATA.jobDuties,\r\n    channels: STATIC_DATA.channels,\r\n    businessRoles: STATIC_DATA.businessRoles,\r\n    teams: STATIC_DATA.teams,\r\n  };\r\n  applications = [];\r\n  applicationAttributes = [];\r\n  attributeOptions = [];\r\n\r\n  selectedApplications = [];\r\n  selectedRoles = [];\r\n\r\n  applicationForm: FormGroup;\r\n  levelOneForm: FormGroup;\r\n  levelTwoForm: FormGroup;\r\n  testForm: FormGroup;\r\n\r\n  commonAttributesForms = {\r\n    FunctionalGroup: 'function_group_id',\r\n    Centers: 'center_cd',\r\n    ChannelsID: 'channel_id',\r\n    ChannelsCD: 'channel_cd'\r\n  };\r\n\r\n  constructor(\r\n    private api: ApiService,\r\n    private fb: FormBuilder,\r\n    private localdata: LocalDataService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.testForm = this.fb.group({\r\n      business_role_id: ['a'],\r\n      channel_id: ['', Validators.required],\r\n      job_duty_id: ['', Validators.required],\r\n      team_id: ['', Validators.required]\r\n    });\r\n\r\n    this.buildForms();\r\n\r\n    if (this.isStaticData) {\r\n      this.applications = this.localdata.get('applications');\r\n      this.applicationAttributes = this.localdata.get('applicationAttributes') || [];\r\n      this.attributeOptions = this.localdata.get('attributeOptions') || [];\r\n      console.log(this.attributeOptions);\r\n    }\r\n\r\n    if (!this.isStaticData) {\r\n      this.resetData();\r\n      this.loadFirstLevelData();\r\n      this.getApplications();\r\n    }\r\n  }\r\n\r\n  getOptions(id): any {\r\n    const format = id.replace(/\\ /g, '_').toLowerCase();\r\n    const options = this.attributeOptions['attr-opts-' + format];\r\n    return options || [];\r\n  }\r\n\r\n  private buildForms(): void {\r\n    this.applicationForm = this.fb.group({\r\n      application: ['', Validators.required]\r\n    });\r\n    this.levelOneForm = this.fb.group({\r\n      business_role_id: [''],\r\n      channel_id: ['', Validators.required],\r\n      job_duty_id: ['', Validators.required],\r\n      team_id: ['', Validators.required]\r\n    });\r\n\r\n    this.levelTwoForm = new FormGroup({\r\n      applications: new FormArray([])\r\n    });\r\n  }\r\n\r\n  get applicationsFormArray(): FormArray {\r\n    return this.levelTwoForm.get('applications') as FormArray;\r\n  }\r\n\r\n  addRole(): void {\r\n    const roleField = this.levelOneForm.get('business_role_id');\r\n    if (roleField.value.length < 1) {\r\n      return;\r\n    }\r\n    const selectedRole = this.firstLeveldata.businessRoles.filter( x => x.id.toString() === roleField.value);\r\n    this.selectedRoles.push(selectedRole[0]);\r\n    roleField.reset();\r\n  }\r\n\r\n  removeRole(id): void{\r\n    this.selectedRoles = this.selectedRoles.filter(x => x.id !== id);\r\n  }\r\n\r\n  async addApplication(): Promise<any> {\r\n    if (this.applicationForm.invalid) {\r\n      return;\r\n    }\r\n\r\n    const appId = this.applicationForm.value.application;\r\n    const format = appId.replace(/\\ /g, '_').toLowerCase();\r\n    const attributes = this.applicationAttributes['app-attr-' + format];\r\n\r\n    this.selectedApplications.push({\r\n      id: new Date().getTime(),\r\n      appId,\r\n      attributes\r\n    });\r\n    this.applicationForm.reset();\r\n\r\n    // let app = this.applications.filter( x =>  x.id.toString() === appId)[0] as any;\r\n    // const attributes = await this.getApplicationAttributes(appId);\r\n    // const attributeDefaultValues: any = await this.getApplicationAttributeDefaults(appId);\r\n    // this.buildApplicationsFormArray(appId, attributeDefaultValues.defaultAppConfigs[0]);\r\n\r\n    // app = {\r\n    //   ...app,\r\n    //   attributes\r\n    // };\r\n    // this.selectedApplications.push(app);\r\n    // this.applicationForm.reset();\r\n    return;\r\n  }\r\n\r\n  private buildApplicationsFormArray(appId, defaultValues): void{\r\n\r\n    const arrayFormGroup = this.fb.group({\r\n      app_id: [appId, Validators.required],\r\n      center_cd: ['', Validators.required],\r\n      channel_cd: ['', Validators.required],\r\n      channel_id: ['', Validators.required],\r\n      function_group_id: ['', Validators.required],\r\n    });\r\n\r\n    if (defaultValues) {\r\n      arrayFormGroup.patchValue({\r\n        center_cd: defaultValues.centerCD,\r\n        channel_cd: defaultValues.channelCD,\r\n        channel_id: defaultValues.channelId,\r\n        function_group_id: defaultValues.functionGroupId,\r\n      });\r\n    }\r\n    this.applicationsFormArray.push(arrayFormGroup);\r\n  }\r\n\r\n  getAttributeFormName(attributeName): string{\r\n    const attrNameNoSpace = attributeName.replace(/\\ /g, '');\r\n    return this.commonAttributesForms[attrNameNoSpace];\r\n  }\r\n\r\n  async getApplicationAttributeDefaults(appId): Promise<any> {\r\n    const levelOneForm = this.levelOneForm.value;\r\n    if (\r\n      !levelOneForm.business_role_id &&\r\n      !levelOneForm.channel_id &&\r\n      !levelOneForm.job_duty_id &&\r\n      !levelOneForm.team_id\r\n    ) {\r\n      return new Promise((res, rej) => res({defaultAppConfigs: []}));\r\n    }\r\n\r\n    const levelOneData = {\r\n      applicationId: appId,\r\n      businessRoleId: levelOneForm.business_role_id,\r\n      channelId: levelOneForm.channel_id,\r\n      jobDutyId: levelOneForm.job_duty_id,\r\n      teamId: levelOneForm.team_id\r\n    };\r\n    const defaults = await this.api.list('default-app-config/getDefaultAttributes', levelOneData).toPromise();\r\n    return defaults;\r\n  }\r\n\r\n  async getApplicationAttributes(appId): Promise<any[]> {\r\n    const attributes = await this.api.list('attribute/getAllAppAttribute', { appId }).toPromise();\r\n\r\n    const attributesWithOptions = [];\r\n    for await (const attr of attributes) {\r\n      const options = await this.getAttributeOptions(appId, attr.category);\r\n      attributesWithOptions.push({\r\n        ...attr,\r\n        options\r\n      });\r\n    }\r\n    return attributesWithOptions;\r\n  }\r\n\r\n  async getAttributeOptions(appId, category ): Promise<any> {\r\n    const options = await this.api.list('attribute/findValuesByCategory', { appId, category}).toPromise();\r\n    return options;\r\n  }\r\n\r\n  isRoleAlreadySelected(id): boolean {\r\n    return this.selectedRoles.filter( x => x.id === id).length > 0;\r\n  }\r\n\r\n  isAppAlreadySelected(id): boolean{\r\n    return this.selectedApplications.filter( x => x.id === id).length > 0;\r\n  }\r\n\r\n  // removeApplication(id, index): void {\r\n  //   this.selectedApplications = this.selectedApplications.filter( x =>  x.id !== id);\r\n  //   this.applicationsFormArray.removeAt(index);\r\n\r\n  //   console.log(this.levelTwoForm.value);\r\n  // }\r\n  removeApplication(id): void {\r\n    this.selectedApplications = this.selectedApplications.filter( x =>  x.id !== id);\r\n  }\r\n\r\n  private resetData(): void{\r\n    this.firstLeveldata = {\r\n      jobDuties: [],\r\n      channels: [],\r\n      businessRoles: [],\r\n      teams: []\r\n    };\r\n\r\n    this.applications = [];\r\n  }\r\n\r\n  private getApplications(): void {\r\n    this.getListOf('application').then( x => {\r\n      this.applications = x;\r\n    });\r\n  }\r\n\r\n  private loadFirstLevelData(): void{\r\n    this.getListOf('job-duty').then( x => {\r\n      this.firstLeveldata.jobDuties = x;\r\n    });\r\n    this.getListOf('business-role').then( x => {\r\n      this.firstLeveldata.businessRoles = x;\r\n    });\r\n    this.getListOf('channel').then( x => {\r\n      this.firstLeveldata.channels = x;\r\n    });\r\n    this.getListOf('team').then( x => {\r\n      this.firstLeveldata.teams = x;\r\n    });\r\n  }\r\n\r\n  private getListOf(entity): Promise<any>{\r\n    return new Promise( (res, rej) => {\r\n      this.api.list(entity, {limit: 999, offset: 0}).subscribe( x => {\r\n        res(x);\r\n      });\r\n    });\r\n  }\r\n\r\n  save(): void {\r\n    if (this.levelOneForm.invalid || this.levelTwoForm.invalid) {\r\n      alert('All Fields are required');\r\n      return;\r\n    }\r\n\r\n    const levelOne  = this.levelOneForm.value;\r\n    const levelTwo  = this.levelTwoForm.value;\r\n    const data = {\r\n      ...levelOne,\r\n      applications: [\r\n        ...levelTwo.applications\r\n      ]\r\n    };\r\n\r\n    console.log(data);\r\n    this.api.create('preset', data).subscribe( x => {\r\n      this.levelOneForm.reset();\r\n      this.levelTwoForm.reset();\r\n      alert('Success');\r\n    });\r\n  }\r\n\r\n  // getAttributeOptions(attrID): any {\r\n  //   return STATIC_DATA.attributes.filter ( x => x.id === attrID)[0];\r\n  // }\r\n}\r\n","export const STATIC_DATA = {\r\n    applications: [\r\n        {\r\n            id: 1,\r\n            name: 'SVC',\r\n            attributes: [\r\n                {\r\n                    id: 1,\r\n                    name: 'Function Group'\r\n                },\r\n                {\r\n                    id: 2,\r\n                    name: 'Channel ID'\r\n                },\r\n                {\r\n                    id: 3,\r\n                    name: 'Channel CD'\r\n                },\r\n                {\r\n                    id: 4,\r\n                    name: 'Center CD'\r\n                },\r\n            ]\r\n        },\r\n        {\r\n            id: 2,\r\n            name: 'BOM',\r\n            attributes: [\r\n                {\r\n                    id: 1,\r\n                    name: 'Function Group'\r\n                },\r\n                {\r\n                    id: 2,\r\n                    name: 'Channel ID'\r\n                },\r\n                {\r\n                    id: 3,\r\n                    name: 'Channel CD'\r\n                },\r\n                {\r\n                    id: 4,\r\n                    name: 'Center CD'\r\n                },\r\n            ]\r\n        },\r\n        {\r\n            id: 3,\r\n            name: 'Salesforce',\r\n            attributes: [\r\n                {\r\n                    id: 1,\r\n                    name: 'Function Group'\r\n                },\r\n                {\r\n                    id: 2,\r\n                    name: 'Channel ID'\r\n                },\r\n                {\r\n                    id: 3,\r\n                    name: 'Channel CD'\r\n                },\r\n                {\r\n                    id: 4,\r\n                    name: 'Center CD'\r\n                },\r\n                {\r\n                    id: 5,\r\n                    name: 'Profile'\r\n                }\r\n            ]\r\n        }\r\n    ],\r\n    jobDuties: [\r\n        {\r\n            id: 1,\r\n            name: 'Fullfilment / CFM'\r\n        },\r\n        {\r\n            id: 2,\r\n            name: 'Smart Charge / SCS'\r\n        },\r\n        {\r\n            id: 3,\r\n            name: 'Outbound Sales (call center) / OBS'\r\n        },\r\n    ],\r\n    businessRoles: [\r\n        {\r\n            id: 1,\r\n            name: 'Supervisor'\r\n        },\r\n        {\r\n            id: 2,\r\n            name: 'Frontline'\r\n        },\r\n        {\r\n            id: 3,\r\n            name: 'Sales Manager'\r\n        },\r\n        {\r\n            id: 4,\r\n            name: 'Support'\r\n        }\r\n    ],\r\n    channels: [\r\n        {\r\n            id: 5,\r\n            name: 'CS_SC_14'\r\n        },\r\n        {\r\n            id: 1,\r\n            name: 'VCC'\r\n        },\r\n        {\r\n            id: 2,\r\n            name: 'OBS'\r\n        },\r\n        {\r\n            id: 3,\r\n            name: 'RET'\r\n        },\r\n        {\r\n            id: 4,\r\n            name: 'CSS'\r\n        }\r\n    ],\r\n    teams: [\r\n        {\r\n            id: 1,\r\n            name: 'CS_SC_14'\r\n        },\r\n        {\r\n            id: 2,\r\n            name: 'VCC'\r\n        },\r\n        {\r\n            id: 3,\r\n            name: 'OBS'\r\n        },\r\n        {\r\n            id: 4,\r\n            name: 'RET'\r\n        },\r\n        {\r\n            id: 5,\r\n            name: 'CSS'\r\n        }\r\n    ],\r\n\r\n    attributes: [\r\n        {\r\n            id: 1,\r\n            name: 'Function Group',\r\n            options: [\r\n                {\r\n                    label: 'RS-CSL-FRONTLINE',\r\n                    value: '1'\r\n                },\r\n                {\r\n                    label: 'LTS-RET-SM',\r\n                    value: '1'\r\n                },\r\n                {\r\n                    label: 'CFM3-F&S-SMART-LIVING ONLY SUPPORT',\r\n                    value: '1'\r\n                },\r\n                {\r\n                    label: 'PCD-RET-SM',\r\n                    value: '1'\r\n                },\r\n                {\r\n                    label: 'QOM-QSI',\r\n                    value: '1'\r\n                },\r\n                {\r\n                    label: 'RS-CSL-FRONTLINE',\r\n                    value: '1'\r\n                },\r\n                {\r\n                    label: 'CSS-IMSTS - AGENT',\r\n                    value: '1'\r\n                },\r\n                {\r\n                    label: 'CSS-IMSTS - MANAGER',\r\n                    value: '1'\r\n                },\r\n            ]\r\n        },\r\n        {\r\n            id: 2,\r\n            name: 'Channel ID',\r\n            options: [\r\n                {\r\n                    label: 1,\r\n                    value: 1\r\n                },\r\n                {\r\n                    label: 2,\r\n                    value: 2\r\n                },\r\n                {\r\n                    label: 3,\r\n                    value: 3\r\n                },\r\n                {\r\n                    label: 4,\r\n                    value: 4\r\n                },\r\n                {\r\n                    label: 5,\r\n                    value: 5\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            id: 3,\r\n            name: 'Channel CD',\r\n            options: [\r\n                {\r\n                    label: 'QOM',\r\n                    value: 'QOM'\r\n                },\r\n                {\r\n                    label: 'CSS',\r\n                    value: 'CSS'\r\n                },\r\n                {\r\n                    label: 'IBS',\r\n                    value: 'IBS'\r\n                },\r\n                {\r\n                    label: 'VCC',\r\n                    value: 'VCC'\r\n                },\r\n                {\r\n                    label: 'CFM1',\r\n                    value: 'CFM1'\r\n                },\r\n                {\r\n                    label: 'CPA(LTS)',\r\n                    value: 'CPA(LTS)'\r\n                },\r\n                {\r\n                    label: 'DS6',\r\n                    value: 'DS6'\r\n                },\r\n            ]\r\n        },\r\n        {\r\n            id: 4,\r\n            name: 'Center CD',\r\n            options: [\r\n                {\r\n                    label: 'CS SERVICE CENTER',\r\n                    value: 'CS SERVICE CENTER',\r\n                },\r\n                {\r\n                    label: 'TTW/33',\r\n                    value: 'TTW/33'\r\n                },\r\n                {\r\n                    label: 'SHOP TEAM 2',\r\n                    value: 'SHOP TEAM 2'\r\n                },\r\n                {\r\n                    label: 'QOM',\r\n                    value: 'QOM'\r\n                },\r\n                {\r\n                    label: 'RETENTION TEAM',\r\n                    value: 'RETENTION TEAM'\r\n                },\r\n                {\r\n                    label: 'F&S',\r\n                    value: 'F&S'\r\n                },\r\n                {\r\n                    label: 'DEL RETENTION',\r\n                    value: 'DEL RETENTION'\r\n                },\r\n                {\r\n                    label: 'SHOP TEAM 7',\r\n                    value: 'SHOP TEAM 7'\r\n                },\r\n            ]\r\n        },\r\n        {\r\n            id: 5,\r\n            name: 'Profile',\r\n            options: [\r\n                {\r\n                    label: 'System Administration',\r\n                    value: 'System Administration'\r\n                },\r\n                {\r\n                    label: 'Sales Manager',\r\n                    value: 'Sales Manager'\r\n                },\r\n                {\r\n                    label: 'Product Encoder',\r\n                    value: 'Product Encoder'\r\n                },\r\n                {\r\n                    label: 'Marketing',\r\n                    value: 'Marketing'\r\n                },\r\n                {\r\n                    label: 'Developer',\r\n                    value: 'Developer'\r\n                },\r\n            ]\r\n        }\r\n    ],\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]}