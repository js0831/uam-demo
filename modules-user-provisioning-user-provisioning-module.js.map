{"version":3,"sources":["./src/app/guard/super-admin.guard.ts","./src/app/modules/user-provisioning/business-role/business-role.component.ts","./src/app/modules/user-provisioning/business-role/business-role.component.html","./src/app/modules/user-provisioning/department-hierarchy/department-hierarchy.component.ts","./src/app/modules/user-provisioning/department-hierarchy/department-hierarchy.component.html","./src/app/modules/user-provisioning/organization-hierarchy/organization-hierarchy.component.ts","./src/app/modules/user-provisioning/organization-hierarchy/organization-hierarchy.component.html","./src/app/modules/user-provisioning/provisioning/provisioning.component.ts","./src/app/modules/user-provisioning/provisioning/provisioning.component.html","./src/app/modules/user-provisioning/staff-information/staff-information.component.ts","./src/app/modules/user-provisioning/staff-information/staff-information.component.html","./src/app/modules/user-provisioning/user-provisioning-routing.module.ts","./src/app/modules/user-provisioning/user-provisioning.module.ts","./src/app/modules/user-provisioning/user-provisioning.service.ts","./src/app/shared/components/hierarchy/hierarchy.service.ts","./src/app/shared/components/stepper/stepper.service.ts"],"names":[],"mappings":"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","file":"modules-user-provisioning-user-provisioning-module.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, Router } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport {  IPermission } from '../data/user';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SuperAdminGuard implements CanActivate {\r\n  constructor(\r\n    private router: Router\r\n  ) {\r\n\r\n  }\r\n  canActivate(\r\n    next: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\r\n      const ret = JSON.parse(localStorage.getItem('user'));\r\n      const isSuperAdmin = ret.type === IPermission.SUPER_ADMIN;\r\n      if (!isSuperAdmin) {\r\n        this.router.navigate(['provisioning/businessrole']);\r\n      }\r\n      return isSuperAdmin;\r\n    }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { UserProvisioningService } from '../user-provisioning.service';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-business-role',\r\n  templateUrl: './business-role.component.html',\r\n  styleUrls: ['./business-role.component.scss']\r\n})\r\nexport class BusinessRoleComponent implements OnInit {\r\n\r\n  public form: FormGroup;\r\n  list = [];\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private service: UserProvisioningService,\r\n    private formBuilder: FormBuilder,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.form = this.formBuilder.group({\r\n      application: ['', [Validators.required]],\r\n      functionGroup: ['', [Validators.required]],\r\n    });\r\n  }\r\n\r\n  add(): void {\r\n    if (this.form.invalid) {\r\n      return;\r\n    }\r\n    this.list.push(this.form.value);\r\n    this.form.reset();\r\n  }\r\n\r\n  remove(index: number): void {\r\n    this.list.splice(index, 1);\r\n  }\r\n\r\n  next(): void {\r\n    this.service.nextStep('staffinfo');\r\n    this.router.navigate(['provisioning', 'staffinfo']);\r\n  }\r\n\r\n}\r\n","<form [formGroup]=\"form\">\r\n    <div class=\"form-group\">\r\n        <label for=\"exampleFormControlSelect1\">Role</label>\r\n        <select class=\"form-control\" >\r\n          <option></option>\r\n          <option value=\"Manager\">Manager</option>\r\n          <option value=\"Frontline\">Frontline</option>\r\n        </select>\r\n    </div>\r\n    <div class=\"form-group application\">\r\n        <div>\r\n          <label for=\"exampleFormControlSelect1\">Application</label>\r\n          <select class=\"form-control\" formControlName=\"application\">\r\n            <option></option>\r\n            <option value=\"SVC\">SVC</option>\r\n            <option value=\"BOM\">BOM</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div>\r\n          <label for=\"exampleFormControlSelect1\">Function Group</label>\r\n          <select class=\"form-control\" formControlName=\"functionGroup\">\r\n            <option></option>\r\n            <option value=\"OBS-SM\">OBS-SM</option>\r\n            <option value=\"PCD-RET SM\">PCD-RET SM</option> \r\n            <option value=\"PTC Manager\">PTC Manager</option>\r\n            <option value=\"IBS Frontline\">IBS Frontline</option>\r\n          </select>\r\n        </div>\r\n        <div>\r\n          <button type=\"button\" class=\"btn btn-secondary\" (click)=\"add()\">+</button>          \r\n        </div>\r\n    </div>\r\n    <div class=\"form-group\" *ngIf=\"list.length > 0\">\r\n      <table class=\"table\">\r\n        <thead>\r\n          <tr>\r\n            <th scope=\"col\">Application</th>\r\n            <th scope=\"col\">Function Group</th>\r\n            <th scope=\"col\"></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr *ngFor=\"let item of list; let i = index\">\r\n            <td>{{item.application}}</td>\r\n            <td>{{item.functionGroup}}</td>\r\n            <td><button type=\"button\" class=\"btn btn-sm btn-link\" (click)=\"remove(i)\">remove</button></td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    \r\n</form>\r\n\r\n<button type=\"button\" class=\"btn btn-primary\" (click)=\"next()\">Next</button>","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { UserProvisioningService } from '../user-provisioning.service';\r\nimport { HierarchyService } from 'src/app/shared/components/hierarchy/hierarchy.service';\r\n\r\n@Component({\r\n  selector: 'app-department-hierarchy',\r\n  templateUrl: './department-hierarchy.component.html',\r\n  styleUrls: ['./department-hierarchy.component.scss']\r\n})\r\nexport class DepartmentHierarchyComponent implements OnInit {\r\n\r\n  node = [\r\n    { id: 1, name: 'Channel Fulfillment Management (CFM)', parent_id: null, type: 'department' },\r\n    { id: 2, name: 'Fulfillment & Services (F&S) - HK', parent_id: 1, type: 'department' },\r\n    { id: 3, name: 'Fulfillment & Services (F&S) - PRC', parent_id: 1, type: 'department' },\r\n    { id: 4, name: 'HK - CPE Team', parent_id: 2, type: 'department' },\r\n    { id: 5, name: 'HK - Order Team', parent_id: 2, type: 'department' },\r\n    { id: 6, name: 'HK - Misc. Support', parent_id: 2, type: 'department' },\r\n    { id: 7, name: 'HK - Others', parent_id: 2, type: 'department' },\r\n    { id: 8, name: 'PY - Order Team', parent_id: 3, type: 'department' },\r\n    { id: 9, name: 'PY - COS & QC Team', parent_id: 3, type: 'department' },\r\n    { id: 10, name: 'PY - Others', parent_id: 3 , type: 'department'}\r\n  ];\r\n\r\n  // TEMP\r\n  staffProvisioning: {\r\n    organization: any,\r\n    department: any,\r\n    businessRole: any,\r\n    staffInfo: any\r\n  };\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private service: UserProvisioningService,\r\n    private hierarchyService: HierarchyService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.node = this.hierarchyService.formatOrg(this.node);\r\n\r\n    // TEMP\r\n    const staffProv = localStorage.getItem('staffProvisioning');\r\n    this.staffProvisioning = staffProv ? JSON.parse(staffProv) : {};\r\n  }\r\n\r\n  // next(): void {\r\n  //   this.service.nextStep('businessrole');\r\n  //   this.router.navigate(['provisioning', 'businessrole']);\r\n  // }\r\n\r\n  select(node): void{\r\n    this.staffProvisioning.department = node;\r\n    localStorage.setItem('staffProvisioning', JSON.stringify(this.staffProvisioning));\r\n\r\n    setTimeout( x => {\r\n      this.service.nextStep('businessrole');\r\n      this.router.navigate(['provisioning', 'businessrole']);\r\n    }, 250);\r\n  }\r\n}\r\n","<ng-template #nodeTemplate let-node=\"node\">\r\n    <a href=\"javascript:;\" (click)=\"select(node)\" \r\n        [ngClass]=\"{'selected': staffProvisioning?.department?.id === node.id}\">\r\n        <span>{{node.name}} </span>\r\n        <!-- <div class=\"node-menu\">\r\n            <app-menu [name]=\"\">\r\n                <div (click)=\"addChild(node)\" class=\"dropdown-item\">Add Child</div>\r\n                <div (click)=\"remove(node)\" class=\"dropdown-item\">Remove</div>\r\n                <div (click)=\"edit(node)\" class=\"dropdown-item\">Edit</div>\r\n            </app-menu>\r\n        </div> -->\r\n    </a>\r\n</ng-template>\r\n \r\n<div class=\"hierarchy\">\r\n    <app-hierarchy [node]=\"node\" [nodeTemplate]=\"nodeTemplate\"></app-hierarchy>\r\n</div>\r\n\r\n\r\n<!-- <button type=\"button\" class=\"btn btn-primary next\" (click)=\"next()\">Next</button> -->\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { UserProvisioningService } from '../user-provisioning.service';\r\nimport { HierarchyService } from '../../../shared/components/hierarchy/hierarchy.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-organization-hierarchy',\r\n  templateUrl: './organization-hierarchy.component.html',\r\n  styleUrls: ['./organization-hierarchy.component.scss']\r\n})\r\nexport class OrganizationHierarchyComponent implements OnInit {\r\n\r\n  // TEMP\r\n  staffProvisioning: {\r\n    organization: any,\r\n    department: any,\r\n    businessRole: any,\r\n    staffInfo: any\r\n  };\r\n\r\n  node = [\r\n    { id: 10, name: 'Mobile Sales and Marketing', parent_id: null },\r\n    { id: 1, name: 'Consumer Mobile', parent_id: 10 },\r\n    { id: 2, name: 'CSL Marketing & Prepaid ', parent_id: 1 },\r\n    { id: 3, name: 'Marketing Operation', parent_id: 1 },\r\n    { id: 4, name: 'Brand & Communications', parent_id: 1 },\r\n    { id: 5, name: 'Human Resources', parent_id: 1 },\r\n    { id: 6, name: 'Finance', parent_id: 1 },\r\n  ];\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private service: UserProvisioningService,\r\n    private hierarchyService: HierarchyService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.node = this.hierarchyService.formatOrg(this.node);\r\n\r\n    // TEMP\r\n    const staffProv = localStorage.getItem('staffProvisioning');\r\n    this.staffProvisioning = staffProv ? JSON.parse(staffProv) : {};\r\n  }\r\n\r\n  // next(): void {\r\n  //   this.service.nextStep('department');\r\n  //   this.router.navigate(['provisioning', 'department']);\r\n  // }\r\n\r\n  select(node): void{\r\n    this.staffProvisioning.organization = node;\r\n    localStorage.setItem('staffProvisioning', JSON.stringify(this.staffProvisioning));\r\n\r\n    setTimeout( x => {\r\n      this.service.nextStep('department');\r\n      this.router.navigate(['provisioning', 'department']);\r\n    }, 250);\r\n  }\r\n}\r\n","<ng-template #nodeTemplate let-node=\"node\">\r\n    <a href=\"javascript:;\" (click)=\"select(node)\"\r\n        [ngClass]=\"{'selected': staffProvisioning?.organization?.id === node.id}\">\r\n        <span>{{node.name}}</span>\r\n        <!-- <div class=\"node-menu\">\r\n            <app-menu [name]=\"\">\r\n                <div (click)=\"addChild(node)\" class=\"dropdown-item\">Add Child</div>\r\n                <div (click)=\"remove(node)\" class=\"dropdown-item\">Remove</div>\r\n                <div (click)=\"edit(node)\" class=\"dropdown-item\">Edit</div>\r\n            </app-menu>\r\n        </div> -->\r\n    </a>\r\n</ng-template>\r\n\r\n<br/>\r\n<div class=\"form-group form-inline\">\r\n    <label for=\"exampleFormControlSelect1\">Organization</label>\r\n    <select class=\"form-control\" >\r\n      <option></option>\r\n      <option value=\"Manager\">CRM</option>\r\n      <option value=\"Frontline\">Consumer Group</option>\r\n      <option value=\"Frontline\">HKT Premier</option>\r\n    </select>\r\n</div>\r\n\r\n<div class=\"hierarchy\">\r\n    <app-hierarchy [node]=\"node\" [nodeTemplate]=\"nodeTemplate\"></app-hierarchy>\r\n</div>\r\n\r\n\r\n<!-- <button type=\"button\" class=\"btn btn-primary next\" (click)=\"next()\">Next</button> -->\r\n","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { IStep } from 'src/app/shared/components/stepper/step.interface';\r\nimport { UserProvisioningService } from '../user-provisioning.service';\r\nimport { Subscription } from 'rxjs';\r\nimport { StepperService } from '../../../shared/components/stepper/stepper.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-provisioning',\r\n  templateUrl: './provisioning.component.html',\r\n  styleUrls: ['./provisioning.component.scss']\r\n})\r\nexport class ProvisioningComponent implements OnInit, OnDestroy{\r\n\r\n  public subs: Subscription[] = [];\r\n  public isSuperAdmin = false;\r\n  public departmentAdminSteps: IStep[] = [\r\n    {\r\n      id: 'businessrole',\r\n      label: 'Business Role'\r\n    },\r\n    {\r\n      id: 'staffinfo',\r\n      label: 'Staff Information'\r\n    }\r\n  ];\r\n\r\n  public superAdminSteps: IStep[] = [\r\n    {\r\n      id: 'organization',\r\n      label: 'Organization'\r\n    },\r\n    {\r\n      id: 'department',\r\n      label: 'Department'\r\n    },\r\n    {\r\n      id: 'businessrole',\r\n      label: 'Business Role'\r\n    },\r\n    {\r\n      id: 'staffinfo',\r\n      label: 'Staff Information'\r\n    }\r\n  ];\r\n\r\n  public steps: IStep[] = [];\r\n\r\n  constructor(\r\n    private service: UserProvisioningService,\r\n    private stepperService: StepperService,\r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.isSuperAdmin = JSON.parse(localStorage.getItem('user'))?.type === 1;\r\n    this.steps = this.isSuperAdmin ? this.superAdminSteps : this.departmentAdminSteps;\r\n\r\n    const savedSteps = localStorage.getItem('steps');\r\n    this.subs.push(\r\n      this.service.step.subscribe(step => this.watchStepChange(step))\r\n    );\r\n\r\n    if (savedSteps) {\r\n      this.steps = JSON.parse(savedSteps);\r\n    }\r\n  }\r\n\r\n  watchStepChange(step: any): void {\r\n    if (!step) {\r\n      return;\r\n    }\r\n    switch (step.action) {\r\n      case 'next':\r\n        this.stepperService.next(this.steps);\r\n        this.saveSteps();\r\n        break;\r\n      case 'reset':\r\n        this.stepperService.reset(this.steps);\r\n        this.saveSteps();\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  private saveSteps(): void{\r\n    localStorage.setItem('steps', JSON.stringify(this.steps));\r\n  }\r\n\r\n  stepChanged(step: IStep): void {\r\n    this.saveSteps();\r\n    this.router.navigate(['provisioning', step.id]);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    localStorage.removeItem('staffProvisioning');\r\n    this.service.clearStepSource();\r\n    localStorage.removeItem('steps');\r\n    this.subs.forEach( x => x.unsubscribe());\r\n  }\r\n}\r\n","<app-stepper [steps]=\"steps\" (onchanged)=\"stepChanged($event)\"></app-stepper>\r\n<div class=\"step\">\r\n    <router-outlet></router-outlet>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { UserProvisioningService } from '../user-provisioning.service';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-staff-information',\r\n  templateUrl: './staff-information.component.html',\r\n  styleUrls: ['./staff-information.component.scss']\r\n})\r\nexport class StaffInformationComponent implements OnInit {\r\n\r\n  public form: FormGroup;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private service: UserProvisioningService,\r\n    private formBuilder: FormBuilder,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.form = this.formBuilder.group({\r\n      name: ['', [Validators.required]],\r\n    });\r\n  }\r\n\r\n  save(): void {\r\n    localStorage.removeItem('staffProvisioning');\r\n    this.service.resetSTep();\r\n    this.router.navigate(['provisioning', 'organization']);\r\n  }\r\n}\r\n","<form [formGroup]=\"form\">\r\n  <div class=\"form-group\">\r\n    <label>Staff Number</label>\r\n    <input type=\"text\" class=\"form-control\">\r\n  </div>\r\n  <div class=\"form-group\">\r\n    <label>Name</label>\r\n    <input type=\"text\" class=\"form-control\">\r\n  </div>\r\n  <div class=\"form-group\">\r\n    <label>Email address</label>\r\n    <input type=\"email\" class=\"form-control\">\r\n  </div>  \r\n  <div class=\"form-group date\">\r\n    <div>\r\n      <label>From Date</label>\r\n      <input type=\"date\" class=\"form-control\">\r\n    </div>\r\n    <div>\r\n      <label>To Date</label>\r\n      <input type=\"date\" class=\"form-control\">\r\n    </div>\r\n  </div>  \r\n</form>\r\n<button type=\"button\" class=\"btn btn-primary\" (click)=\"save()\">Submit</button>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { ProvisioningComponent } from './provisioning/provisioning.component';\r\nimport { OrganizationHierarchyComponent } from './organization-hierarchy/organization-hierarchy.component';\r\nimport { DepartmentHierarchyComponent } from './department-hierarchy/department-hierarchy.component';\r\nimport { BusinessRoleComponent } from './business-role/business-role.component';\r\nimport { StaffInformationComponent } from './staff-information/staff-information.component';\r\nimport { SuperAdminGuard } from '../../guard/super-admin.guard';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ProvisioningComponent,\r\n    children: [\r\n      {path: '', redirectTo: 'organization', pathMatch: 'full'},\r\n      {path: 'organization', component: OrganizationHierarchyComponent, canActivate: [ SuperAdminGuard ]},\r\n      {path: 'department', component: DepartmentHierarchyComponent},\r\n      {path: 'businessrole', component: BusinessRoleComponent},\r\n      {path: 'staffinfo', component: StaffInformationComponent},\r\n    ]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  exports: [RouterModule]\r\n})\r\nexport class UserProvisioningRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { UserProvisioningRoutingModule } from './user-provisioning-routing.module';\r\nimport { SharedModule } from '../../shared/shared.module';\r\nimport { OrganizationHierarchyComponent } from './organization-hierarchy/organization-hierarchy.component';\r\nimport { ProvisioningComponent } from './provisioning/provisioning.component';\r\nimport { DepartmentHierarchyComponent } from './department-hierarchy/department-hierarchy.component';\r\nimport { BusinessRoleComponent } from './business-role/business-role.component';\r\nimport { StaffInformationComponent } from './staff-information/staff-information.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    OrganizationHierarchyComponent,\r\n    ProvisioningComponent,\r\n    DepartmentHierarchyComponent,\r\n    BusinessRoleComponent,\r\n    StaffInformationComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    SharedModule,\r\n    UserProvisioningRoutingModule,\r\n    ReactiveFormsModule\r\n  ]\r\n})\r\nexport class UserProvisioningModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UserProvisioningService {\r\n\r\n  private stepSource: BehaviorSubject<{to?: string, action: string}> = new BehaviorSubject(null);\r\n  step = this.stepSource.asObservable();\r\n\r\n  constructor() { }\r\n\r\n  nextStep(page: string): void{\r\n    this.stepSource.next({\r\n      action: 'next',\r\n      to: page,\r\n    });\r\n  }\r\n\r\n  previousStep(page: string): void{\r\n    this.stepSource.next({\r\n      action: 'back',\r\n      to: page,\r\n    });\r\n  }\r\n\r\n  resetSTep(): void{\r\n    this.stepSource.next({\r\n      action: 'reset',\r\n    });\r\n  }\r\n\r\n  clearStepSource(): void{\r\n    this.stepSource.next(null);\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class HierarchyService {\r\n\r\n  constructor() { }\r\n\r\n  public formatOrg(hierarchy): any {\r\n    const rootNode = this.getRootNode(hierarchy);\r\n    return {\r\n      ...rootNode,\r\n      subNodes: this.findChildren(rootNode, hierarchy)\r\n    };\r\n  }\r\n\r\n  private findChildren(root, hierarchy): any {\r\n    const children = hierarchy.filter(item => item.parent_id === root.id);\r\n\r\n    return children.map(item => {\r\n      return {\r\n        ...item,\r\n        subNodes: this.findChildren(item, hierarchy)\r\n      };\r\n    });\r\n  }\r\n\r\n  private getRootNode(hierarchy): any {\r\n    return hierarchy.filter(item => !item.parent_id)[0];\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { IStep } from './step.interface';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class StepperService {\r\n\r\n  constructor() { }\r\n\r\n  next(steps: IStep[]): void{\r\n\r\n    let activeIndex = this.getActiveIndex(steps);\r\n\r\n    if (steps.length === activeIndex + 1){\r\n      return;\r\n    }\r\n\r\n    steps[activeIndex].active = false;\r\n    steps[activeIndex].finished = true;\r\n    activeIndex += 1;\r\n    steps[activeIndex].active = true;\r\n  }\r\n\r\n  back( steps: IStep[]): void{\r\n    let activeIndex = this.getActiveIndex(steps);\r\n    if (activeIndex === 0){\r\n      return;\r\n    }\r\n    steps[activeIndex].active = false;\r\n    activeIndex -= 1;\r\n    steps[activeIndex].active = true;\r\n  }\r\n\r\n  reset( steps: IStep[]): void{\r\n    steps.forEach( x => {\r\n      x.finished = false;\r\n      x.active = false;\r\n    });\r\n    steps[0].active = true;\r\n  }\r\n\r\n  private getActiveIndex(steps: IStep[]): number{\r\n    let activeIndex = 0;\r\n    steps.forEach( (x, i) => {\r\n      if (x.active) {\r\n        activeIndex = i;\r\n      }\r\n    });\r\n    return activeIndex;\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}